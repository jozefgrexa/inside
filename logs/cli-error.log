2018-05-20 20:14:31 Error: [PDOException] SQLSTATE[HY000]: General error: 1215 Cannot add foreign key constraint in C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Db\Adapter\PdoAdapter.php on line 338
Stack Trace:
#0 C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Db\Adapter\PdoAdapter.php(338): PDO->exec('ALTER TABLE `pa...')
#1 C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Db\Adapter\MysqlAdapter.php(697): Phinx\Db\Adapter\PdoAdapter->execute('ALTER TABLE `pa...')
#2 C:\wamp64\www\inside\vendor\cakephp\migrations\src\CakeAdapter.php(636): Phinx\Db\Adapter\MysqlAdapter->addForeignKey(Object(Migrations\Table), Object(Phinx\Db\Table\ForeignKey))
#3 C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Db\Table.php(636): Migrations\CakeAdapter->addForeignKey(Object(Migrations\Table), Object(Phinx\Db\Table\ForeignKey))
#4 C:\wamp64\www\inside\vendor\cakephp\migrations\src\Table.php(106): Phinx\Db\Table->update()
#5 C:\wamp64\www\inside\config\Migrations\20180520123242_CreateBasicTables.php(28): Migrations\Table->update()
#6 C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Migration\Manager\Environment.php(122): CreateBasicTables->change()
#7 C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Migration\Manager.php(366): Phinx\Migration\Manager\Environment->executeMigration(Object(CreateBasicTables), 'up')
#8 C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Migration\Manager.php(342): Phinx\Migration\Manager->executeMigration('default', Object(CreateBasicTables), 'up')
#9 C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Console\Command\Migrate.php(113): Phinx\Migration\Manager->migrate('default', NULL)
#10 C:\wamp64\www\inside\vendor\cakephp\migrations\src\Command\CommandTrait.php(35): Phinx\Console\Command\Migrate->execute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#11 C:\wamp64\www\inside\vendor\cakephp\migrations\src\Command\Migrate.php(65): Migrations\Command\Migrate->parentExecute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#12 C:\wamp64\www\inside\vendor\symfony\console\Command\Command.php(252): Migrations\Command\Migrate->execute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#13 C:\wamp64\www\inside\vendor\symfony\console\Application.php(946): Symfony\Component\Console\Command\Command->run(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#14 C:\wamp64\www\inside\vendor\symfony\console\Application.php(248): Symfony\Component\Console\Application->doRunCommand(Object(Migrations\Command\Migrate), Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#15 C:\wamp64\www\inside\vendor\symfony\console\Application.php(148): Symfony\Component\Console\Application->doRun(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#16 C:\wamp64\www\inside\vendor\cakephp\migrations\src\Shell\MigrationsShell.php(108): Symfony\Component\Console\Application->run(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#17 C:\wamp64\www\inside\vendor\cakephp\cakephp\src\Console\Shell.php(532): Migrations\Shell\MigrationsShell->main('migrations', 'migrate')
#18 C:\wamp64\www\inside\vendor\cakephp\migrations\src\Shell\MigrationsShell.php(164): Cake\Console\Shell->runCommand(Array, true, Array)
#19 C:\wamp64\www\inside\vendor\cakephp\cakephp\src\Console\CommandRunner.php(342): Migrations\Shell\MigrationsShell->runCommand(Array, true)
#20 C:\wamp64\www\inside\vendor\cakephp\cakephp\src\Console\CommandRunner.php(164): Cake\Console\CommandRunner->runShell(Object(Migrations\Shell\MigrationsShell), Array)
#21 C:\wamp64\www\inside\bin\cake.php(12): Cake\Console\CommandRunner->run(Array)
#22 {main}


2018-05-20 20:14:31 Warning: The connection is going to be closed but there is an active transaction.
2018-05-20 20:14:31 Warning: Warning (2): fwrite(): 139 is not a valid stream resource in [C:\wamp64\www\inside\vendor\cakephp\cakephp\src\Console\ConsoleOutput.php, line 253]
Trace:
Cake\Error\BaseErrorHandler::handleError() - CORE\src\Error\BaseErrorHandler.php, line 153
fwrite - [internal], line ??
Cake\Console\ConsoleOutput::_write() - CORE\src\Console\ConsoleOutput.php, line 253
Cake\Console\ConsoleOutput::write() - CORE\src\Console\ConsoleOutput.php, line 188
Cake\Log\Engine\ConsoleLog::log() - CORE\src\Log\Engine\ConsoleLog.php, line 94
Cake\Log\Log::write() - CORE\src\Log\Log.php, line 384
Cake\Log\Log::warning() - CORE\src\Log\Log.php, line 469
Cake\Database\Connection::__destruct() - CORE\src\Database\Connection.php, line 135
[main] - [internal], line ??



2018-05-23 10:54:45 Error: [PDOException] SQLSTATE[42000]: Syntax error or access violation: 1072 Key column 'captain' doesn't exist in table in C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Db\Adapter\PdoAdapter.php on line 338
Stack Trace:
#0 C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Db\Adapter\PdoAdapter.php(338): PDO->exec('ALTER TABLE `te...')
#1 C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Db\Adapter\MysqlAdapter.php(697): Phinx\Db\Adapter\PdoAdapter->execute('ALTER TABLE `te...')
#2 C:\wamp64\www\inside\vendor\cakephp\migrations\src\CakeAdapter.php(636): Phinx\Db\Adapter\MysqlAdapter->addForeignKey(Object(Migrations\Table), Object(Phinx\Db\Table\ForeignKey))
#3 C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Db\Table.php(636): Migrations\CakeAdapter->addForeignKey(Object(Migrations\Table), Object(Phinx\Db\Table\ForeignKey))
#4 C:\wamp64\www\inside\vendor\cakephp\migrations\src\Table.php(106): Phinx\Db\Table->update()
#5 C:\wamp64\www\inside\config\Migrations\20180523105255_UpdateTeamsTable.php(17): Migrations\Table->update()
#6 C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Migration\Manager\Environment.php(122): UpdateTeamsTable->change()
#7 C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Migration\Manager.php(366): Phinx\Migration\Manager\Environment->executeMigration(Object(UpdateTeamsTable), 'up')
#8 C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Migration\Manager.php(342): Phinx\Migration\Manager->executeMigration('default', Object(UpdateTeamsTable), 'up')
#9 C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Console\Command\Migrate.php(113): Phinx\Migration\Manager->migrate('default', NULL)
#10 C:\wamp64\www\inside\vendor\cakephp\migrations\src\Command\CommandTrait.php(35): Phinx\Console\Command\Migrate->execute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#11 C:\wamp64\www\inside\vendor\cakephp\migrations\src\Command\Migrate.php(65): Migrations\Command\Migrate->parentExecute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#12 C:\wamp64\www\inside\vendor\symfony\console\Command\Command.php(252): Migrations\Command\Migrate->execute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#13 C:\wamp64\www\inside\vendor\symfony\console\Application.php(946): Symfony\Component\Console\Command\Command->run(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#14 C:\wamp64\www\inside\vendor\symfony\console\Application.php(248): Symfony\Component\Console\Application->doRunCommand(Object(Migrations\Command\Migrate), Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#15 C:\wamp64\www\inside\vendor\symfony\console\Application.php(148): Symfony\Component\Console\Application->doRun(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#16 C:\wamp64\www\inside\vendor\cakephp\migrations\src\Shell\MigrationsShell.php(108): Symfony\Component\Console\Application->run(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#17 C:\wamp64\www\inside\vendor\cakephp\cakephp\src\Console\Shell.php(532): Migrations\Shell\MigrationsShell->main('migrations', 'migrate')
#18 C:\wamp64\www\inside\vendor\cakephp\migrations\src\Shell\MigrationsShell.php(164): Cake\Console\Shell->runCommand(Array, true, Array)
#19 C:\wamp64\www\inside\vendor\cakephp\cakephp\src\Console\CommandRunner.php(342): Migrations\Shell\MigrationsShell->runCommand(Array, true)
#20 C:\wamp64\www\inside\vendor\cakephp\cakephp\src\Console\CommandRunner.php(164): Cake\Console\CommandRunner->runShell(Object(Migrations\Shell\MigrationsShell), Array)
#21 C:\wamp64\www\inside\bin\cake.php(12): Cake\Console\CommandRunner->run(Array)
#22 {main}


2018-05-23 10:54:45 Warning: The connection is going to be closed but there is an active transaction.
2018-05-23 10:54:45 Warning: Warning (2): fwrite(): 139 is not a valid stream resource in [C:\wamp64\www\inside\vendor\cakephp\cakephp\src\Console\ConsoleOutput.php, line 253]
Trace:
Cake\Error\BaseErrorHandler::handleError() - CORE\src\Error\BaseErrorHandler.php, line 153
fwrite - [internal], line ??
Cake\Console\ConsoleOutput::_write() - CORE\src\Console\ConsoleOutput.php, line 253
Cake\Console\ConsoleOutput::write() - CORE\src\Console\ConsoleOutput.php, line 188
Cake\Log\Engine\ConsoleLog::log() - CORE\src\Log\Engine\ConsoleLog.php, line 94
Cake\Log\Log::write() - CORE\src\Log\Log.php, line 384
Cake\Log\Log::warning() - CORE\src\Log\Log.php, line 469
Cake\Database\Connection::__destruct() - CORE\src\Database\Connection.php, line 135
[main] - [internal], line ??



2018-05-23 10:57:01 Error: [PDOException] SQLSTATE[HY000]: General error: 1553 Cannot drop index 'captain': needed in a foreign key constraint in C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Db\Adapter\PdoAdapter.php on line 338
Stack Trace:
#0 C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Db\Adapter\PdoAdapter.php(338): PDO->exec('ALTER TABLE `te...')
#1 C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Db\Adapter\MysqlAdapter.php(497): Phinx\Db\Adapter\PdoAdapter->execute('ALTER TABLE `te...')
#2 C:\wamp64\www\inside\vendor\cakephp\migrations\src\CakeAdapter.php(551): Phinx\Db\Adapter\MysqlAdapter->dropColumn('teams', 'captain_id')
#3 C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Db\Table.php(370): Migrations\CakeAdapter->dropColumn('teams', 'captain_id')
#4 C:\wamp64\www\inside\config\Migrations\20180523105255_UpdateTeamsTable.php(16): Phinx\Db\Table->removeColumn('captain_id', 'captains', 'id')
#5 C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Migration\Manager\Environment.php(122): UpdateTeamsTable->change()
#6 C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Migration\Manager.php(366): Phinx\Migration\Manager\Environment->executeMigration(Object(UpdateTeamsTable), 'up')
#7 C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Migration\Manager.php(342): Phinx\Migration\Manager->executeMigration('default', Object(UpdateTeamsTable), 'up')
#8 C:\wamp64\www\inside\vendor\robmorgan\phinx\src\Phinx\Console\Command\Migrate.php(113): Phinx\Migration\Manager->migrate('default', NULL)
#9 C:\wamp64\www\inside\vendor\cakephp\migrations\src\Command\CommandTrait.php(35): Phinx\Console\Command\Migrate->execute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#10 C:\wamp64\www\inside\vendor\cakephp\migrations\src\Command\Migrate.php(65): Migrations\Command\Migrate->parentExecute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#11 C:\wamp64\www\inside\vendor\symfony\console\Command\Command.php(252): Migrations\Command\Migrate->execute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#12 C:\wamp64\www\inside\vendor\symfony\console\Application.php(946): Symfony\Component\Console\Command\Command->run(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#13 C:\wamp64\www\inside\vendor\symfony\console\Application.php(248): Symfony\Component\Console\Application->doRunCommand(Object(Migrations\Command\Migrate), Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#14 C:\wamp64\www\inside\vendor\symfony\console\Application.php(148): Symfony\Component\Console\Application->doRun(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#15 C:\wamp64\www\inside\vendor\cakephp\migrations\src\Shell\MigrationsShell.php(108): Symfony\Component\Console\Application->run(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#16 C:\wamp64\www\inside\vendor\cakephp\cakephp\src\Console\Shell.php(532): Migrations\Shell\MigrationsShell->main('migrations', 'migrate')
#17 C:\wamp64\www\inside\vendor\cakephp\migrations\src\Shell\MigrationsShell.php(164): Cake\Console\Shell->runCommand(Array, true, Array)
#18 C:\wamp64\www\inside\vendor\cakephp\cakephp\src\Console\CommandRunner.php(342): Migrations\Shell\MigrationsShell->runCommand(Array, true)
#19 C:\wamp64\www\inside\vendor\cakephp\cakephp\src\Console\CommandRunner.php(164): Cake\Console\CommandRunner->runShell(Object(Migrations\Shell\MigrationsShell), Array)
#20 C:\wamp64\www\inside\bin\cake.php(12): Cake\Console\CommandRunner->run(Array)
#21 {main}


2018-05-23 10:57:01 Warning: The connection is going to be closed but there is an active transaction.
2018-05-23 10:57:01 Warning: Warning (2): fwrite(): 139 is not a valid stream resource in [C:\wamp64\www\inside\vendor\cakephp\cakephp\src\Console\ConsoleOutput.php, line 253]
Trace:
Cake\Error\BaseErrorHandler::handleError() - CORE\src\Error\BaseErrorHandler.php, line 153
fwrite - [internal], line ??
Cake\Console\ConsoleOutput::_write() - CORE\src\Console\ConsoleOutput.php, line 253
Cake\Console\ConsoleOutput::write() - CORE\src\Console\ConsoleOutput.php, line 188
Cake\Log\Engine\ConsoleLog::log() - CORE\src\Log\Engine\ConsoleLog.php, line 94
Cake\Log\Log::write() - CORE\src\Log\Log.php, line 384
Cake\Log\Log::warning() - CORE\src\Log\Log.php, line 469
Cake\Database\Connection::__destruct() - CORE\src\Database\Connection.php, line 135
[main] - [internal], line ??



